# 5회차 테크 인터뷰 스터디

## 정보
- 참여 인원 : 박정수(질문자), 홍성주(답변자)

## 내용

### Q&A 1.  프로젝트
1. 애플리케이션 아키텍처 및 공통
	1. 애플리케이션 아키텍처를 설계할 때 어떤 점을 중요하게 생각하셨나요? 개발을 진행하면서도 꼭 지키려고 했던 규칙같은 것이 있다면 알려주세요.
		1. 최초에는 딱히 없었지만 이후에 코드리뷰를 받으며 그러한 규칙들이 개인적으로 생기게 되었습니다. 그러한 부분을 생각해서 추후 리팩토링을 진행하기도 했습니다.
		2. 적용한 내용으로는 유의미한 변수명, 하나의 클래스에는 하나의 책임을 주기, 기능 단위로 메서드 분리하기, 인덴테이션 등이 있다.
	2. 도메인 안에 또다른 도메인들이 포함되는 구조인데, 어떤 이유로 이런 구조를 가져가야겠다고 생각하셨나요?
		1. 답변: 분리되지 않는 포함되는 관계에 있는 도메인들을 묶어서 두면 보기 편할 것 같다는 생각을 했습니다. 현재는 분리를 해두면 더 좋을 것 같아서 분리를 했습니다.
			1. 어떤 점이 좋을 것 같았나요?
				1. 그 부분은 답변을 더 준비하도록 하겠습니다.
	3. 애플리케이션의 계층을 분리하는 이유가 뭘까요?
		1. 문제가 생겼을 때 어떤 계층에 문제가 있을 거라고 빠르게 문제를 찾아갈 수 있다.
	4. `Constant.java` 클래스가 가지고 있는 문제에 대해 인지하고 계신가요?
		1. static final을 사용해서 코드의 양과 중복을 줄이고자 했다.
		2. 한 곳에 몰아넣고 관리를 쉽게 하기 위한 목적이었다.
		3. 그러나 나중에 유지보수를 할 때는 불리할 수 있겠다는 생각이 들었다.
		4. 그렇다면 어떤 식으로 분리를 하면 유리하게 될까요?
			1. 상수의 목적 별로 각각 저장을 할 것 같습니다.
2. DTO
	1. 어떤 목적으로 `@NoArgsConstructor`를 사용하셨나요?
		1. 빌더 패턴을 사용하려다보니 컴파일을 위해서 넣었습니다. 추후에는 억세스 레벨을 낮추는 식으로 변경하였습니다.
	2. `@AllArgsConstructor`의 사이드이펙트에 대해 인지하고 계신가요?
		1. 순서가 뒤바뀌는 경우 문제가 생길 수 있습니다. 개발자의 혼동으로 인해 타입이 같은 두 변수의 순서가 바뀌어도 컴파일 타임에 체크할 수가 없다.
	3. 엔티티를 그대로 필드로 사용하는 부분이 있는데, 이럴 때 어떤 문제가 생길 수 있을까요?
		1. 일단 비즈니스 로직 구현에 집중하다보니 간과한 부분임을 말씀드립니다. 불필요한 혹은 민감한 정보의 노출로 문제가 있을 수 있습니다. 성능문제가 있을 수도 있습니다.
3. Entity
	1. 어떤 목적으로 `@Setter`를 사용하셨나요? 엔티티 클래스에는 수정자 메서드를 절대로 사용하면 안되는 것으로 알고 있는데, 어떤 이유에서인지 알고 계신가요?
		1. 세터를 사용하면 어떤 목적으로 사용했는지 알기 어렵다는 점입니다. 
		2. 또한 유지보수를 할 때 세터를 남용할 수 있는 부분도 있습니다. 예를 들어 바뀌면 안되는 값 같은 것이 변경이 될 수 있습니다.
		3. 그러면 식별자와 같은 민감한 값을 제외하고는 세터로 변경해도 괜찮을까요?
			1. 명확히 개발자의 의도였다면 괜찮다고 생각합니다. 필요하지 않은 경우에는 객체의 일관성을 깨뜨린다고 생각을 합니다. 만약 값의 변경이 필요하다면 유의미한 메서드명으로 기능을 작성해야 한다고 생각합니다.
	2. `@Lob`을 통해 LOB 타입을 사용한 이유가 뭔가요? (text, image)
		1. 이미지도 `@Lob`으로 선언되기도 했던데, 이미지를 BLOB으로 DB에 저장하나요?
			1. url이 상당히 길어질 것으로 생각해서 lob을 사용했습니다. 지금 생각해보면 그렇게 필요하진 않은 기능이었던 것 같습니다.
4. Presentation(Controller)
	1. 컨트롤러 계층에 엔티티가 종속되었을 때 생길 수 있는 문제는 어떤 것이 있을까요?
		1. 일단 계층간 결합도가 증가합니다.
		2. 엔티티를 다루기 위해서 다양한 서비스가 오토와이어링 되어야 합니다.
		3. 이러한 문제로 유지보수가 어려운 구조가 될  것으로 생각합니다.
	2. 핸들러 메서드들의 Return은 왜 `ResponseEntity`인가요?
		1. 상태값을 보내기 위해서 사용했습니다.
		2. 사용하지 않으면 상태값을 보낼 수 없나요?
			1. 그런 것은 아니지만, 다른 방법이 있을 수 있을 것 같지만 현재로서는 ResponseEntity를 사용하는 방법이 가장 적당했던 것 같습니다.
	3. 현재 URI Mapping을 RESTful 하게 따르고 있나요?
5. Repository(Infrastructure)
	1. 인프라 계층에서 사용하는 DTO는 어떤 목적으로 사용되나요?
		1. 조회 시  필요한 값들만 뽑아서 컨트롤러에 노출하기 위해서였습니다. 그러나 이러한 방식은 계층 간 결합도를 높일 수 있는 행위이기 때문에 지양해야 한다고 생각합니다.
		2. 결합도가 높아진다면 어떤 부분 때문인가요?
			1. 레포지토리에서 조회한 값을 서비스가 아닌 컨트롤러로 직접 리턴해주기 때문이라고 생각합니다. 

### Q&A1. 점수
* 질문자 점수: 2.5점
* 답변자 점수: 점

### Q&A1. 피드백
- 질문자 피드백: 
	- 프로젝트를 보면서 질문답변을 하게되면, 질문자의 입장에서는 당연히 '이상한' 부분 위주로 질문을 할 수 밖에 없습니다. 그런 의미에서 전반적으로는 큰 막힘 없이 답변을 하려는 인상을 주신 점은 긍정적입니다.
	- 추론은 확실하지 않을 수 있다고 생각합니다. 잘 모르는 부분에 대해 질문하는 것이기도 하고, 추론이란 것이 본래 그런 것이기 때문입니다. 그래서 명확하지 않게 답변하는 것은, 개인적으로는 괜찮다고 생각합니다. 
	- 그러나 근거만큼은 명확해야 한다고 생각합니다. 추론에 '그렇다고 들었다' 혹은 '유명한 개념이나 키워드(예를 들어 '계층간 결합도를 낮춰야 한다', '유지보수가 용이해야 한다')를 지켜야 하기 때문에 그렇습니다'라는 말이 붙는 것은 아쉬운 인상을 줄 수 있다고 생각합니다.
	- 아마도 당황하시게 되면서 질문자의 페이스에 말리신 것으로 생각이 됩니다. 저 스스로도 잘 하지 못하는 것이지만, 잘 모르는 답변을 할 때 그럴듯하게 보이는 답변을 하고 싶은 생각을 억누르고, 결론까지 도달하지 못하더라도 명확하게 아는 부분까지는 확실한 근거를 가지고 도달하는 추론을 보여주는 것이 좋을 것 같습니다.
- 답변자 피드백: -

### AS1. 개선 답변
